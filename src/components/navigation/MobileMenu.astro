---
import { Icon } from "astro-icon/components";
import NavLink from "./NavLink.astro";
---

<button id="open-menu" class="p-2 md:hidden">
  <Icon name="mdi:menu" class="text-2xl" />
</button>

<div id="mobile-menu" class="fixed inset-0 bg-white transform translate-x-full transition-transform duration-200 ease-in-out z-50">
  <div class="flex flex-col h-full">
    <div class="flex justify-between items-center p-4 border-b">
      <h2 class="text-xl font-bold">Menu</h2>
      <button id="close-menu" class="p-2">
        <Icon name="mdi:close" class="text-2xl" />
      </button>
    </div>
    
    <nav class="p-4">
      <ul class="flex flex-col gap-4">
        <li class="w-full"><NavLink href="/about" text="About Us" /></li>
        <li class="w-full"><NavLink href="/runs" text="Our Runs" /></li>
        <li class="w-full"><NavLink href="/team" text="The Team" /></li>
        <li class="w-full"><a href="/contact" class="block px-4 py-2 bg-primary-400 text-white hover:bg-primary-500 rounded text-center transition-colors border-b-2 border-primary-600">Get in Touch!</a></li>
      </ul>
    </nav>
  </div>
</div>

<script>
  const mobileMenu = document.getElementById('mobile-menu');
  const menuButton = document.getElementById('open-menu');
  const closeButton = document.getElementById('close-menu');

  function toggleMenu() {
    mobileMenu?.classList.toggle('translate-x-full');
  }

  menuButton?.addEventListener('click', toggleMenu);
  closeButton?.addEventListener('click', toggleMenu);
</script>
